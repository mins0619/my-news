<html class="no-js" lang="">
   <head>
      <meta charset="utf-8" />
      <title>나만의 수원 E-NEWS</title>
      <meta name="description" content="" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />

      <link rel="manifest" href="site.webmanifest" />
      <link rel="apple-touch-icon" href="icon.png" />
      <link
         rel="stylesheet"
         href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
         integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
         crossorigin="anonymous"
      />
      <!-- s3배포용 <link rel="stylesheet" href="https://s3.ap-northeast-2.amazonaws.com/www.turtleheadsnake.site/mynews.css" /> -->
      <link rel="stylesheet" href="../css/mynews.css" />
      <link rel="stylesheet" href="./normalize.css" />
      <style>
         @font-face {
            font-family: 'Humanbumsuk';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2210-2@1.0/Humanbumsuk.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
         }
         @font-face {
            font-family: 'twayair';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_tway@1.0/twayair.woff') format('woff');
            font-weight: normal;
            font-style: normal;
         }
         @media (max-width: 575px) {
         }

         @media (max-width: 767px) {
         }

         @media (max-width: 991px) {
         }

         @media (max-width: 1199px) {
         }
      </style>
      <meta name="theme-color" content="#fafafa" />
   </head>

   <body>
      <header>
         <div id="header-main">
            <img
               src="https://s3.ap-northeast-2.amazonaws.com/www.turtleheadsnake.site/%EB%82%98%EB%A7%8C%EC%9D%98+%EC%88%98%EC%9B%90+e%EB%89%B4%EC%8A%A4+%EB%A1%9C%EA%B3%A0.png"
               alt=""
            />
            <h1>나만의 수원 e뉴스</h1>
         </div>
      </header>

      <main>
         <div id="mains">
            <div class="inline-block">
               <table id="news-List" class="table">
                  <thead>
                     <tr>
                        <!-- 뉴스 api를 불러오기 위한 테이블 형식에 목록 작성 -->
                        <th scope="col">번호</th>
                        <th scope="col">제목</th>
                        <th scope="col">작성일시</th>
                     </tr>
                  </thead>
                  <tbody id="newsContents"></tbody>
               </table>
            </div>

            <div class="inline-block">
               <div id="news-banner">
                  <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                     <div class="carousel-inner">
                        <div class="carousel-item active">
                           <img
                              class="d-block w-100"
                              src="https://news.suwon.go.kr/_File/headline/222249_64784_1670472635_3656.jpg"
                              alt="First slide"
                              style="height: 295px"
                           />
                           <div id="banner-text" class="carousel-caption d-none d-md-block">
                              <h6>지역의 등불이 되어 주신 봉사자 여러분! 수고하셨습니다</h6>
                              <p>수원시방범기동순찰대 장안구연합 9개 지대 합동 송년회 열려</p>
                           </div>
                        </div>
                        <div class="carousel-item">
                           <img
                              class="d-block w-100"
                              src="https://news.suwon.go.kr/_File/headline/222282_97446_1670495824_0363.jpg"
                              alt="Second slide"
                              style="height: 295px"
                           />
                           <div id="banner-text" class="carousel-caption d-none d-md-block">
                              <h6>'꿈을키우는집'에 몰래 산타가 출동했다.</h6>
                              <p>아이들에게 따뜻한 연말을 선물하는 산타 (주)올릭스 임직원들</p>
                           </div>
                        </div>
                        <div class="carousel-item">
                           <img
                              class="d-block w-100"
                              src="https://news.suwon.go.kr/_File/headline/222281_49773_1670493800_5879.jpg"
                              alt="Third slide"
                              style="height: 295px"
                           />
                           <div id="banner-text" class="carousel-caption d-none d-md-block">
                              <h6>수원특례시 희망일터, 구인·구직의 날 운영</h6>
                              <p>구직업체별로 사전에 3배수 모집, 취업 가능성 커</p>
                           </div>
                        </div>
                     </div>
                     <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                     </a>
                     <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                     </a>
                  </div>
               </div>
               <div id="suwon-enews">
                  <iframe
                     width="400"
                     height="315"
                     src="https://www.youtube.com/embed/Lbm8ETXTkm0"
                     title="YouTube video player"
                     frameborder="0"
                     allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                     allowfullscreen
                  ></iframe>
                  <p>
                     수원 e 뉴스는 수원의 다양한 프로그램과 행사 그리고 취업 등의 소식을 빠르게 만나 볼 수 있는 뉴스
                     홈페이지 입니다.
                  </p>
                  <button id="suwon-news" type="button" class="btn btn-secondary" onclick="Push()">
                     수원 e뉴스 바로가기
                  </button>
               </div>
            </div>
         </div>
      </main>

      <script src="js/vendor/modernizr-3.11.2.min.js"></script>
      <script src="js/plugins.js"></script>
      <script src="js/main.js"></script>

      <script>
         function Push() {
            document.getElementById('suwon-news').onclick = function () {
               location.href = 'https://news.suwon.go.kr/';
            };
         }
      </script>
      <script>
         fetch(
            // 수원 e 뉴스 api를 패치 형식으로 불러옴.
            'https://api.odcloud.kr/api/15089803/v1/uddi:62f94409-406b-4603-b583-ccde75a18d5c?page=1&perPage=20&serviceKey=pZY78PIP5%2FY2k5zgnjW2uMySD528QoSdZvFGYxXR7Qn5zjvToyAi2T41MRncF6h71ZJTFAY4%2BtSHOZ5XG3TB1A%3D%3D',
         )
            .then(response => response.json())
            .then(json => {
               // 브라우저에서 불러온 목록을 확인 할 수 있도록 console 제공
               console.log('데이터', json.data);
               const ul = document.querySelector('#newsContents');
               for (let i = 1; i < json.data.length; i++) {
                  if (json.data[i].작성완료일 == null) {
                     // api 내 기사가 없는 경우가 있어 작성 완료일이 비어있는 경우 "기사 없음 상태로 변경"
                     ul.innerHTML += `<tr> 
              <th scope="row">${[i]}</th>
              <td>기사없음</td> 
              <td>${json.data[i].상태}</td>
            </tr>`;
                  } else {
                     // 있을경우 기사 제목과 작성완료일을 출력
                     ul.innerHTML += `<tr> 
              <th scope="row">${[i]}</th>
              <td>${json.data[i].기사제목}</td> 
              <td>${json.data[i].작성완료일}</td>
            </tr>`;
                  }
               }
            });
      </script>
      <script
         src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
         integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
         crossorigin="anonymous"
      ></script>
      <script
         src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
         integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
         crossorigin="anonymous"
      ></script>
      <script
         src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
         integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
         crossorigin="anonymous"
      ></script>

      <!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
      <script>
         window.ga = function () {
            ga.q.push(arguments);
         };
         ga.q = [];
         ga.l = +new Date();
         ga('create', 'UA-XXXXX-Y', 'auto');
         ga('set', 'anonymizeIp', true);
         ga('set', 'transport', 'beacon');
         ga('send', 'pageview');
      </script>
      <script src="https://www.google-analytics.com/analytics.js" async></script>
   </body>
</html>
